!function(t){"use strict";function e(t){this.defaults={container:"body",numDots:400,dotColor:"white",backgroundColor:"black",dotMinSize:1,dotMaxSize:3,dotMinOpacity:.5,dotMaxOpacity:1,influenceRadius:100,influenceStrength:.5,randomFactor:.05,friction:.97,maxSpeed:3,reactive:!0,zIndex:-1,mouseSpeedDecay:.85,maxMouseSpeed:15,dotStretch:!0,dotStretchMult:10,dotMaxStretch:20,rotSmoothing:!1,rotSmoothingIntensity:150},this.options=this._mergeOptions(this.defaults,t||{}),this.canvas=null,this.ctx=null,this.container=null,this.dots=[],this.width=0,this.height=0,this.mouseX=0,this.mouseY=0,this.prevMouseX=0,this.prevMouseY=0,this.mouseSpeedX=0,this.mouseSpeedY=0,this.animationFrame=null,this.resizeTimeout=null,this.lastFrameTime=0,this.isMouseOver=!1,this.init()}e.prototype.init=function(){if(this.container=this._getContainer(this.options.container),!this.container){console.error("DotWave: Container element not found");return}this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.zIndex=this.options.zIndex,this.canvas.style.pointerEvents="none",this._setupContainer(),this.container.appendChild(this.canvas),this._updateCanvasSize(),this._createDots(),this._addEventListeners(),this.lastFrameTime=performance.now(),this._animate()},e.prototype._setupContainer=function(){let t=window.getComputedStyle(this.container);"static"===t.position&&(this.container.style.position="relative"),this.options.backgroundColor&&this.container===document.body&&(document.body.style.backgroundColor=this.options.backgroundColor)},e.prototype._getContainer=function(t){return"string"==typeof t?document.querySelector(t):t instanceof Element?t:t===document.body?document.body:null},e.prototype._mergeOptions=function(t,e){let i={};for(let s in t)i[s]=void 0!==e[s]?e[s]:t[s];return i},e.prototype._updateCanvasSize=function(){let t=this.container.getBoundingClientRect(),e=t.width,i=t.height,s=this.width||e,o=this.height||i;this.width=e,this.height=i;let n=window.devicePixelRatio||1;if(this.canvas.width=this.width*n,this.canvas.height=this.height*n,this.ctx.scale(n,n),this.dots&&this.dots.length>0&&(s!==e||o!==i)){let h=e/s,r=i/o;for(let a=0;a<this.dots.length;a++){let l=this.dots[a];l.x*=h,l.y*=r,l.x<-50&&(l.x=-50),l.x>e+50&&(l.x=e+50),l.y<-50&&(l.y=-50),l.y>i+50&&(l.y=i+50)}}this.mouseX=this.width/2,this.mouseY=this.height/2,this.prevMouseX=this.mouseX,this.prevMouseY=this.mouseY},e.prototype._createDots=function(){this.dots=[];for(let t=0;t<this.options.numDots;t++){let e=Math.random(),i={x:Math.random()*this.width,y:Math.random()*this.height,z:e,radius:this.options.dotMinSize+e*(this.options.dotMaxSize-this.options.dotMinSize),alpha:this.options.dotMinOpacity+e*(this.options.dotMaxOpacity-this.options.dotMinOpacity),vx:(Math.random()-.5)*1.5,vy:(Math.random()-.5)*1.5,speedMultiplier:.3+.7*e};this.options.dotStretch&&(this.options.rotSmoothing?(i.currentAngle=0,i.targetAngle=0):i.currentAngle=0),this.dots.push(i)}},e.prototype._addEventListeners=function(){this.container.addEventListener("mousemove",this._handleMouseMove.bind(this)),this.container.addEventListener("mouseenter",this._handleMouseEnter.bind(this)),this.container.addEventListener("mouseleave",this._handleMouseLeave.bind(this)),window.addEventListener("resize",this._handleResize.bind(this))},e.prototype._handleMouseMove=function(t){if(!this.isMouseOver)return;let e=this.container.getBoundingClientRect();this.prevMouseX=this.mouseX,this.prevMouseY=this.mouseY,this.mouseX=t.clientX-e.left,this.mouseY=t.clientY-e.top;let i=this.mouseX-this.prevMouseX,s=this.mouseY-this.prevMouseY,o=Math.sqrt(i*i+s*s);if(o>this.options.maxMouseSpeed){let n=this.options.maxMouseSpeed/o;this.mouseSpeedX=i*n,this.mouseSpeedY=s*n}else this.mouseSpeedX=i,this.mouseSpeedY=s},e.prototype._handleMouseEnter=function(){this.isMouseOver=!0},e.prototype._handleMouseLeave=function(){this.isMouseOver=!1,this.mouseSpeedX*=.5,this.mouseSpeedY*=.5},e.prototype._handleResize=function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this._updateCanvasSize()},250)},e.prototype._lerpAngle=function(t,e,i){let s=e-t;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;let o=t+s*i;for(;o<0;)o+=2*Math.PI;for(;o>=2*Math.PI;)o-=2*Math.PI;return o},e.prototype._drawDot=function(t,e){let i=this._getRGBA(this.options.dotColor,t.alpha);if(!this.options.dotStretch){this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.radius,0,2*Math.PI),this.ctx.fillStyle=i,this.ctx.fill();return}let s=t.vx*t.vx,o=t.vy*t.vy,n=Math.min(Math.sqrt(s+o)/this.options.maxSpeed,1),h=n*this.options.dotStretchMult;if(this.options.dotMaxStretch&&(h=Math.min(h,this.options.dotMaxStretch)),h<.01){this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.radius,0,2*Math.PI),this.ctx.fillStyle=i,this.ctx.fill();return}let r=Math.atan2(t.vy,t.vx);if(this.options.rotSmoothing){t.targetAngle=r;let a=this.options.rotSmoothingIntensity<=0?1:Math.min(e/this.options.rotSmoothingIntensity,1);t.currentAngle=this._lerpAngle(t.currentAngle,t.targetAngle,a)}else t.currentAngle=r;let l=t.radius+h,u=t.radius;this.ctx.save(),this.ctx.translate(t.x,t.y),this.ctx.rotate(t.currentAngle),this.ctx.beginPath(),this.ctx.ellipse(0,0,l,u,0,0,2*Math.PI),this.ctx.fillStyle=i,this.ctx.fill(),this.ctx.restore()},e.prototype._animate=function(){this.animationFrame=requestAnimationFrame(this._animate.bind(this));let t=performance.now(),e=Math.min(t-this.lastFrameTime,32),i=e/10;this.lastFrameTime=t,this.options.reactive&&(this.mouseSpeedX*=Math.pow(this.options.mouseSpeedDecay,i),this.mouseSpeedY*=Math.pow(this.options.mouseSpeedDecay,i)),this.ctx.clearRect(0,0,this.width,this.height),"transparent"!==this.options.backgroundColor&&(this.ctx.fillStyle=this.options.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height));let s=this.options.randomFactor,o=Math.pow(this.options.friction,i),n=this.options.maxSpeed,h=n*n,r,a,l;this.options.reactive&&(a=(r=this.options.influenceRadius)*r,l=this.options.influenceStrength);for(let u=0;u<this.dots.length;u++){let d=this.dots[u];if(this.options.reactive&&this.isMouseOver){let p=this.mouseX-d.x,c=this.mouseY-d.y,m=p*p+c*c;if(m<a){let v=Math.sqrt(m),$=(1-v/r)*d.z;d.vx+=this.mouseSpeedX*$*l*i,d.vy+=this.mouseSpeedY*$*l*i}}d.vx+=(Math.random()-.5)*s*i,d.vy+=(Math.random()-.5)*s*i,d.vx*=o,d.vy*=o;let g=d.vx*d.vx+d.vy*d.vy;if(g>h){let y=n/Math.sqrt(g);d.vx*=y,d.vy*=y}d.x+=d.vx*d.speedMultiplier*i,d.y+=d.vy*d.speedMultiplier*i,d.x<-50&&(d.x=this.width+50),d.x>this.width+50&&(d.x=-50),d.y<-50&&(d.y=this.height+50),d.y>this.height+50&&(d.y=-50),this._drawDot(d,e)}},e.prototype._getRGBA=function(t,e){if(t.startsWith("rgba"))return t;if(t.startsWith("rgb"))return t.replace("rgb","rgba").replace(")",`, ${e})`);if(t.startsWith("#")){let i=t.substring(1),s=parseInt(3===i.length?i.charAt(0)+i.charAt(0):i.substring(0,2),16),o=parseInt(3===i.length?i.charAt(1)+i.charAt(1):i.substring(2,4),16),n=parseInt(3===i.length?i.charAt(2)+i.charAt(2):i.substring(4,6),16);return`rgba(${s}, ${o}, ${n}, ${e})`}return({white:"rgba(255, 255, 255, "+e+")",black:"rgba(0, 0, 0, "+e+")",red:"rgba(255, 0, 0, "+e+")",green:"rgba(0, 128, 0, "+e+")",blue:"rgba(0, 0, 255, "+e+")"})[t.toLowerCase()]||`rgba(255, 255, 255, ${e})`},e.prototype.destroy=function(){this.animationFrame&&cancelAnimationFrame(this.animationFrame),this.container.removeEventListener("mousemove",this._handleMouseMove),this.container.removeEventListener("mouseenter",this._handleMouseEnter),this.container.removeEventListener("mouseleave",this._handleMouseLeave),window.removeEventListener("resize",this._handleResize),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null,this.ctx=null,this.dots=[]},e.prototype.updateOptions=function(t){this.options=this._mergeOptions(this.options,t||{}),(void 0!==t.numDots||void 0!==t.dotStretch||void 0!==t.rotSmoothing)&&this._createDots()},e.prototype.pause=function(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null)},e.prototype.resume=function(){this.animationFrame||(this.lastFrameTime=performance.now(),this._animate())},t.DotWave=e}("undefined"!=typeof window?window:this);